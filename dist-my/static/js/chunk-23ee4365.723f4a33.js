(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23ee4365"],{"2bb8":function(e,t,a){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,a,l){return t=t||"&",a=a||"=",null===e&&(e=void 0),"object"===typeof e?o(i(e),(function(i){var l=encodeURIComponent(r(i))+a;return n(e[i])?o(e[i],(function(e){return l+encodeURIComponent(r(e))})).join(t):l+encodeURIComponent(r(e[i]))})).join(t):l?encodeURIComponent(r(l))+a+encodeURIComponent(r(e)):""};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var a=[],r=0;r<e.length;r++)a.push(t(e[r],r));return a}var i=Object.keys||function(e){var t=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.push(a);return t}},"5ee4":function(e,t,a){"use strict";t.decode=t.parse=a("a2d3"),t.encode=t.stringify=a("2bb8")},"9b54":function(e,t,a){"use strict";var r=a("9e93"),n=a.n(r);n.a},"9e93":function(e,t,a){},a2d3:function(e,t,a){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,a,o){t=t||"&",a=a||"=";var i={};if("string"!==typeof e||0===e.length)return i;var l=/\+/g;e=e.split(t);var s=1e3;o&&"number"===typeof o.maxKeys&&(s=o.maxKeys);var c=e.length;s>0&&c>s&&(c=s);for(var u=0;u<c;++u){var d,f,p,m,b=e[u].replace(l,"%20"),h=b.indexOf(a);h>=0?(d=b.substr(0,h),f=b.substr(h+1)):(d=b,f=""),p=decodeURIComponent(d),m=decodeURIComponent(f),r(i,p)?n(i[p])?i[p].push(m):i[p]=[i[p],m]:i[p]=m}return i};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},b97d:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"staff"},[a("div",{staticClass:"staff-top"},[a("el-button",{staticClass:"staff-add",attrs:{type:"primary"},on:{click:e.addStaff}},[e._v("添加")])],1),a("div",{staticClass:"staff-bottom"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.staffInfo,stripe:""}},[a("el-table-column",{attrs:{prop:"id",label:"编号",width:"80px",align:"center"}}),a("el-table-column",{attrs:{prop:"username",label:"姓名",width:"140px",align:"center"}}),a("el-table-column",{attrs:{prop:"telephone",label:"手机号",width:"140px",align:"center"}}),a("el-table-column",{attrs:{prop:"idCard",label:"身份证号",width:"130px",align:"center"}}),a("el-table-column",{attrs:{prop:"bankCard",label:"银行卡号",width:"130px",align:"center"}}),a("el-table-column",{attrs:{prop:"registerTime",label:"注册时间",width:"130px",align:"center"}}),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"100px",align:"center"}}),a("el-table-column",{staticClass:"caozuo",attrs:{label:"操作",width:"185px",align:"center",color:"lightblue"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticClass:"caozuo",on:{click:function(a){return e.deleteById(t.row)}}},[e._v("删除")]),e._v(" "),a("a",{staticClass:"caozuo",on:{click:function(a){return e.change(t.row)}}},[e._v("编辑")]),e._v(" "),a("a",{staticClass:"caozuo",on:{click:function(a){return e.staff_details(t.row.id)}}},[e._v("详情")])]}}])})],1)],1),a("div",{staticClass:"staff-footer"},[a("el-pagination",{attrs:{"current-page":e.currentPage1,"page-size":e.pageSize,layout:"total, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage1=t},"update:current-page":function(t){e.currentPage1=t}}})],1),a("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"myform",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"员工名称","label-width":e.formLabelWidth,prop:"username",placeholder:"请输入员工名"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入员工名"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),a("el-form-item",{attrs:{label:"姓名","label-width":e.formLabelWidth,prop:"realname"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入员工姓名"},model:{value:e.form.realname,callback:function(t){e.$set(e.form,"realname",t)},expression:"form.realname"}})],1),a("el-form-item",{attrs:{label:"手机号","label-width":e.formLabelWidth,prop:"telephone"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入手机号"},model:{value:e.form.telephone,callback:function(t){e.$set(e.form,"telephone",t)},expression:"form.telephone"}})],1),a("el-form-item",{attrs:{label:"身份证号","label-width":e.formLabelWidth,prop:"idCard"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入身份证号"},model:{value:e.form.idCard,callback:function(t){e.$set(e.form,"idCard",t)},expression:"form.idCard"}})],1),a("el-form-item",{attrs:{label:"银行卡号","label-width":e.formLabelWidth,prop:"bankCard"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入银行卡号"},model:{value:e.form.bankCard,callback:function(t){e.$set(e.form,"bankCard",t)},expression:"form.bankCard"}})],1),a("el-form-item",{attrs:{label:"密码","label-width":e.formLabelWidth,prop:"password"}},[a("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"请输入密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1)],1),a("div",{staticClass:"dialog-footer",staticStyle:{"margin-top":"-50px"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.formSave("myform")}}},[e._v("确 定")])],1)],1)],1)},n=[],o=a("5ee4"),i=a.n(o),l={name:"Staff",data:function(){return{input:"",staffInfo:[],total:0,currentPage1:1,pageSize:6,dialogFormVisible:!1,title:"添加员工信息",form:{username:"",realname:"",telephone:"",idCard:"",bankCard:"",password:""},rules:{username:[{required:!0,message:"请输入员工名",trigger:"blur"},{min:3,max:10,message:"长度在 3 到 10 个字符",trigger:"blur"}],realname:[{required:!0,message:"请输入员工名",trigger:"blur"},{min:3,max:10,message:"长度在 3 到 10 个字符",trigger:"blur"}],telephone:[{required:!0,message:"请输入员工手机号"},{min:7,max:11}],idCard:[{required:!0,message:"请输入身份证号"},{min:18,max:18}],bankCard:[{required:!0,message:"请输入银行卡号"}],password:[{required:!0,trigger:"blur"},{min:5}]},formLabelWidth:"120px"}},created:function(){this.findAll()},methods:{staff_details:function(e){this.$router.push({path:"/staff_detail/index",query:{id:e}})},formSave:function(e){var t=this,a=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;a.$axios.post("/waiter/saveOrUpdate",i.a.stringify(a.form)).then((function(e){200==e.data.status?(t.$message({message:"保存成功",type:"success"}),a.findAll()):t.$message.error("保存失败"),a.dialogFormVisible=!1}))}))},addStaff:function(){this.dialogFormVisible=!0,this.title="添加员工信息",this.form={}},change:function(e){var t=this;this.dialogFormVisible=!0,this.title="修改员工信息",this.$axios.get("waiter/findWaiterById",{params:{id:e.id}}).then((function(a){t.form={id:e.id,username:e.username,realname:e.realname,telephone:e.telephone,idCard:e.idCard,bankCard:e.bankCard,password:a.data.data.password}}))},findAll:function(){var e=this,t=this.currentPage1-1,a={page:t,pageSize:this.pageSize};this.$axios.post("/waiter/query",i.a.stringify(a)).then((function(t){e.staffInfo=t.data.data.list,e.total=t.data.data.total}))},handleSizeChange:function(e){},handleCurrentChange:function(e){this.findAll()},deleteById:function(e){var t=this,a=this;this.$confirm("此操作将永久删除该产品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var r=e.id;a.$axios.get("/waiter/deleteById",{params:{id:r}}).then((function(e){200==e.data.status?(t.$message({type:"success",message:"删除成功!"}),a.findAll()):t.$message.error(e.data.message)}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}}},s=l,c=(a("9b54"),a("9ca4")),u=Object(c["a"])(s,r,n,!1,null,"48d1e504",null);t["default"]=u.exports}}]);